// =====================
// PROMT UP ‚Äî MINI APP
// =====================

// ---- STATE ----
let state = {
  screen: "start", // start | goals | modules
  goal: null
};

// ---- DATA ----

// 3 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –û–°–ù–û–í–ù–´–• (–æ–±—â–∏–µ)
const baseModules = [
  { id: "o1", title: "–û—Å–Ω–æ–≤—ã –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π" },
  { id: "o2", title: "–ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥" },
  { id: "o3", title: "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ AI" }
];

// 3 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –¶–ï–õ–ï–í–´–•
const targetModules = {
  work: [
    "AI –¥–ª—è –æ—Ñ–∏—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã",
    "–î–µ–ª–æ–≤–∞—è –ø–µ—Ä–µ–ø–∏—Å–∫–∞",
    "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—á–∏—Ö –∑–∞–¥–∞—á"
  ],
  business: [
    "AI –¥–ª—è –±–∏–∑–Ω–µ—Å–∞",
    "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–∏–¥–µ–π",
    "–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ –∏ –¶–ê"
  ],
  study: [
    "AI –¥–ª—è —É—á—ë–±—ã",
    "–ö–æ–Ω—Å–ø–µ–∫—Ç—ã –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è",
    "–°–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞–Ω–∏–π"
  ],
  self: [
    "AI –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏",
    "–õ–∏—á–Ω—ã–π AI-–ø–æ–º–æ—â–Ω–∏–∫",
    "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ü–µ–ª–∏"
  ]
};

// 14 –ü–†–ï–ú–ò–£–ú
const premiumModules = {
  work: [
    "–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –¥–µ–ª–æ–≤–∞—è –ø–µ—Ä–µ–ø–∏—Å–∫–∞",
    "–û—Ç—á—ë—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã PRO",
    "AI –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π",
    "–ê–Ω–∞–ª–∏–∑ —Ä–∞–±–æ—á–∏—Ö –¥–∞–Ω–Ω—ã—Ö",
    "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—Ç–∏–Ω—ã",
    "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º",
    "AI –¥–ª—è –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤",
    "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
    "AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞",
    "–†–µ—à–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á",
    "–ö–∞—Ä—å–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç",
    "–≠–∫—Å–ø–µ—Ä—Ç–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ",
    "–ü–æ–≤—ã—à–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏",
    "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å AI"
  ],
  business: [
    "–ë–∏–∑–Ω–µ—Å-–º—ã—à–ª–µ–Ω–∏–µ —Å AI",
    "–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–∏–ø–æ—Ç–µ–∑",
    "–ü—Ä–æ–¥—É–∫—Ç–æ–≤–æ–µ –º—ã—à–ª–µ–Ω–∏–µ",
    "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ —Å AI",
    "–ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –±–∏–∑–Ω–µ—Å–∞",
    "–ü—Ä–æ–¥–∞–∂–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã",
    "–í–æ—Ä–æ–Ω–∫–∏ –∏ –æ—Ñ—Ñ–µ—Ä—ã",
    "–ë–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ",
    "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤",
    "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏",
    "–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ",
    "–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–æ—Å—Ç–∞",
    "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏",
    "AI –¥–ª—è –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—è"
  ],
  study: [
    "–ì–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–µ–º",
    "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ç–µ—Å—Ç–∞–º",
    "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º",
    "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–ª–∞–Ω—ã",
    "–ë—ã—Å—Ç—Ä–æ–µ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ",
    "–†–∞–±–æ—Ç–∞ —Å –æ—à–∏–±–∫–∞–º–∏",
    "–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞",
    "–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–æ–≤",
    "–û–±—É—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–∞–∫—Ç–∏–∫—É",
    "–£—á—ë–±–∞ –±–µ–∑ —Å—Ç—Ä–µ—Å—Å–∞",
    "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–Ω–∏–º–∞–Ω–∏–µ–º",
    "AI-–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫",
    "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å",
    "–û–±—É—á–µ–Ω–∏–µ PRO"
  ],
  self: [
    "–õ–∏—á–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç PRO",
    "–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",
    "–¢–∞–π–º-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç",
    "–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π",
    "–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ",
    "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π",
    "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∂–∏–∑–Ω–∏",
    "–¶–µ–ª–∏ –∏ –ø—Ä–∏–≤—ã—á–∫–∏",
    "–°–∞–º–æ—Ä–∞–∑–≤–∏—Ç–∏–µ",
    "–ê–Ω–∞–ª–∏–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏",
    "–†–µ—à–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á",
    "–û—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ",
    "–ù–æ–≤—ã–µ –Ω–∞–≤—ã–∫–∏",
    "–ö–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏"
  ]
};

// 10 –î–û–ü (–æ–±—â–∏–µ)
const extraModules = [
  "–õ—É—á—à–∏–µ —à–∞–±–ª–æ–Ω—ã –ø—Ä–æ–º–ø—Ç–æ–≤",
  "–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
  "–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏",
  "–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏",
  "AI –¥–ª—è –∏–¥–µ–π",
  "AI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞",
  "–°–∫–æ—Ä–æ—Å—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ",
  "AI –∫–∞–∫ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫",
  "–≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏",
  "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"
];

// ---- UI HELPERS ----
const app = document.getElementById("app");

function clear() {
  app.innerHTML = "";
}

function button(text, onClick, extraClass = "") {
  const btn = document.createElement("button");
  btn.className = "btn " + extraClass;
  btn.textContent = text;
  btn.onclick = onClick;
  return btn;
}

function title(text) {
  const h = document.createElement("h2");
  h.textContent = text;
  return h;
}

function section(text) {
  const h = document.createElement("h3");
  h.textContent = text;
  return h;
}

// ---- SCREENS ----

function renderStart() {
  clear();
  app.appendChild(title("Promt Up"));
  app.appendChild(
    button("–ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ", () => {
      state.screen = "goals";
      render();
    })
  );
}

function renderGoals() {
  clear();
  app.appendChild(title("–í—ã–±–µ—Ä–∏ —Ü–µ–ª—å"));

  app.appendChild(button("–î–ª—è —Ä–∞–±–æ—Ç—ã", () => selectGoal("work")));
  app.appendChild(button("–î–ª—è –±–∏–∑–Ω–µ—Å–∞", () => selectGoal("business")));
  app.appendChild(button("–î–ª—è —É—á—ë–±—ã", () => selectGoal("study")));
  app.appendChild(button("–î–ª—è —Å–µ–±—è", () => selectGoal("self")));
}

function selectGoal(goal) {
  state.goal = goal;
  state.screen = "modules";
  render();
}

function renderModules() {
  clear();

  app.appendChild(title("–ú–æ–¥—É–ª–∏ –æ–±—É—á–µ–Ω–∏—è"));

  // –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ
  app.appendChild(section("–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ ‚Ä¢ –û—Å–Ω–æ–≤—ã"));
  baseModules.forEach(m =>
    app.appendChild(button(m.title, () => alert("–£—Ä–æ–∫–∏ –ø–æ–∑–∂–µ")))
  );

  // –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ ‚Äî —Ü–µ–ª–µ–≤—ã–µ
  app.appendChild(section("–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ ‚Ä¢ –ü–æ —Ü–µ–ª–∏"));
  targetModules[state.goal].forEach(m =>
    app.appendChild(button(m, () => alert("–£—Ä–æ–∫–∏ –ø–æ–∑–∂–µ")))
  );

  // –ü—Ä–µ–º–∏—É–º
  app.appendChild(section("–ü—Ä–µ–º–∏—É–º"));
  premiumModules[state.goal].forEach(m =>
    app.appendChild(button("üîí " + m, () => alert("–ù—É–∂–µ–Ω –ø—Ä–µ–º–∏—É–º"), "locked"))
  );

  // –î–æ–ø
  app.appendChild(section("–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∑–∞ –º–æ–Ω–µ—Ç—ã"));
  extraModules.forEach(m =>
    app.appendChild(button("ü™ô " + m, () => alert("–ü–æ–∫—É–ø–∫–∞ –ø–æ–∑–∂–µ"), "coin"))
  );
}

// ---- RENDER ----
function render() {
  if (state.screen === "start") renderStart();
  if (state.screen === "goals") renderGoals();
  if (state.screen === "modules") renderModules();
}

render();
